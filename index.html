<script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/dev/aframe/build/aframe-ar.js"></script>
<script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
<style>
  .button {
    background-color: red; 
    border: none;
    color: white;
    padding: 7px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 45px;
    margin: 10px 15px;
    cursor: pointer;
    border-radius: 10px;
    border: 2px solid rgba(9, 148, 28, 0.541);
    box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19);
  }

  .background{

    background-color: red;
  }
  
  </style>

<div style="position: fixed; top: -50px;">
  <img class ="background" src="logoFica.png" alt="Girl in a jacket" width="100%" height="250">
</div>
<div style='position: fixed; top: 250px; left: 50px; width:100%; text-align: left; z-index: 1;'>
    <button class="button" id="btnPlay">Play</button>
    <button class="button" id="btnStop">Stop</button>
    <button class="button" id="btnNext">Next</button>
  <!-- <img src="logoFica.png" alt="Girl in a jacket" width="500" height="600"> -->
    
   
  </div>
  

<meta name="TV aumentada" content="yes">

<body style='margin : 0px; overflow: hidden;'>

    <a-scene embedded arjs="debugUIEnabled: false;" vr-mode-ui="enabled: false">   
    <a-marker preset="hiro">
    <video id="mivideo" crossOrigin="anonymous" playsinline webkitplaysinline autoplay controls src="1.mp4" class="1"></video>
    <a-video src="#mivideo" position="0 0 0" scale="3 2 2" rotation="270 0 0" ></a-video>
   
   <script> 
      var m = document.querySelector("a-marker")
      m.addEventListener("markerFound", (e)=>{
      console.log("found")
      var v = document.querySelector('#mivideo').muted=false;
      var v = document.querySelector('#mivideo').play();
   

})
      m.addEventListener("markerLost", (e)=>{
        
      console.log("lost")
      var v = document.querySelector('#mivideo').pause();
  
})


document.getElementById("btnPlay").addEventListener("click", (e)=>{

  var v = document.querySelector('#mivideo').muted=false;
  var v = document.querySelector('#mivideo').play();
})
document.getElementById("btnStop").addEventListener("click", (e)=>{

  var v = document.querySelector('#mivideo').muted=true;
  var v = document.querySelector('#mivideo').pause();

})

const variable=document.getElementById("btnNext");

var videos=["1.mp4","2.mp4","3.mp4"];
let i=0;

function cambiarVideo(){
    if(i===0){
        return videos[i];
        i++;
    }else if(i===1){
        return videos[i];
        i++;
    }else if(i===2){
        return videos[i];
        i=0;
    }
}

var vl = document.querySelector('#mivideo')

if(variable){
  
  variable.addEventListener("click", (e)=>{
    //aquí quiero llamar al método pero no sé cómo cargar el arreglo en el html
    //ni llamar la función 
    
    console.log(vl.classList.value)
    console.log(vl.src);

    let st = (vl.classList.value)

    if(parseInt(st) >= 3){
      vl.classList.remove(st)
      st =  "0"
    }

    let tmp = ( parseInt(st) + 1 ) + ""

    if(parseInt(tmp) >3){
      vl.src = "3.mp4"
    }else{
      vl.src = tmp + ".mp4"
    }

    //vl.src = tmp + ".mp4"
    vl.classList.remove(st)
    let stN = (parseInt(st)) + 1
    vl.classList.add(stN)

  })

}  
     </script>
      </a-marker>
      <a-entity camera></a-entity>
    </a-scene>
</body>














